/*! angular-cubes 2015-06-06 */
var ngCubes=angular.module("ngCubes",["ngCubes.templates"]),makeSignal=function(a){return"cubes_"+Math.random().toString(36).replace(/[^a-z]+/g,"")};ngCubes.directive("cubes",["$http","$rootScope",function(a,b){return{restrict:"E",transclude:!0,scope:{slicer:"@",cube:"@",state:"="},templateUrl:"angular-cubes-templates/cubes.html",controller:function(c){var d=this,e=c.state||{},f=c.slicer.slice(),f=f.endsWith("/")?f.slice(0,f.length-1):f,f=f+"/cube/"+c.cube;d.dataUpdate=makeSignal(),d.modelUpdate=makeSignal(),d.reset=function(){a.get(f+"/model").then(function(a){b.$broadcast(d.modelUpdate,a.data)}),d.update({})},d.getQuery=function(){return e.query},d.update=function(c){e.query=c;var g=angular.copy(c);a.get(f+"/aggregate").then(function(a){b.$broadcast(d.dataUpdate,a.data,g)})}}}}]),ngCubes.directive("cubesTable",["$rootScope",function(a){return{restrict:"EA",require:"^cubes",scope:{drilldown:"="},templateUrl:"angular-cubes-templates/cubes-table.html",link:function(b,c,d,e){b.model={},b.query={},b.data={},a.$on(e.modelUpdate,function(a,c){b.model=c,console.log(c)}),a.$on(e.dataUpdate,function(a,c,d){b.query=d,b.data=c}),e.reset()}}}]),angular.module("ngCubes.templates",["angular-cubes-templates/cubes-table.html","angular-cubes-templates/cubes.html"]),angular.module("angular-cubes-templates/cubes-table.html",[]).run(["$templateCache",function(a){a.put("angular-cubes-templates/cubes-table.html","<h1>Hello, World!</h1>\n\n<p>This is a test.</p>\n\n<hr>\n\n<small>Why not?</small>\n")}]),angular.module("angular-cubes-templates/cubes.html",[]).run(["$templateCache",function(a){a.put("angular-cubes-templates/cubes.html",'<div class="cubes-frame" ng-transclude>\n</div>\n')}]);